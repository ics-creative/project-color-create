!function(t){var e={};function i(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){var r;window,r=function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){"use strict";i.r(e);var r,a,n,s={},o={},c=window.createjs,h={};r=s=s||{},o=o||{},a=c=c||{},h=h||{},r.properties={width:550,height:400,fps:24,color:"#999999",manifest:[]},(r.triangle=function(){this.initialize(),this.shape=new a.Shape,this.shape.graphics.beginFill("#FFFFFF").beginStroke().moveTo(-.7,-27.8).lineTo(32,27.1).lineTo(-32,27.8).closePath(),this.shape.setTransform(0,-7),this.addChild(this.shape)}).prototype=n=new a.Container,n.nominalBounds=new a.Rectangle(-32,-34.8,64,55.7),(r.star_10=function(){this.initialize(),this.shape=new a.Shape,this.shape.graphics.beginFill("#FFFFFF").beginStroke().moveTo(-4.3,18.3).lineTo(-19.9,29.3).lineTo(-14.1,10.3).lineTo(-32,10.3).lineTo(-19.7,.7).lineTo(-31.2,-8.7).lineTo(-15.2,-8.8).lineTo(-21.7,-26.4).lineTo(-5.4,-16.4).lineTo(-.2,-31.8).lineTo(4.4,-17.6).lineTo(17.8,-27.4).lineTo(13.1,-8.5).lineTo(30.3,-8.1).lineTo(19.9,.1).lineTo(32,8.4).lineTo(12.8,9.5).lineTo(18.2,29.8).lineTo(4.9,20).lineTo(1.4,31.8).closePath(),this.addChild(this.shape)}).prototype=n=new a.Container,n.nominalBounds=new a.Rectangle(-32,-31.7,64,63.6),(r.star=function(){this.initialize(),this.shape=new a.Shape,this.shape.graphics.beginFill("#FFFFFF").beginStroke().moveTo(-.2,17.3).lineTo(-20.2,31.5).lineTo(-13,7.4).lineTo(-32,-8).lineTo(-7.8,-8.4).lineTo(.3,-32).lineTo(8,-8.2).lineTo(32,-7.4).lineTo(12.8,7.5).lineTo(19.4,32).closePath(),this.addChild(this.shape)}).prototype=n=new a.Container,n.nominalBounds=new a.Rectangle(-32,-32,64,64),(r.square=function(){this.initialize(),this.shape=new a.Shape,this.shape.graphics.beginFill().beginStroke("#FFFFFF").setStrokeStyle(8,1,1).moveTo(-32,-32).lineTo(32,-32).lineTo(32,32).lineTo(-32,32).closePath(),this.addChild(this.shape)}).prototype=n=new a.Container,n.nominalBounds=new a.Rectangle(-36,-36,72,72),(r.reverse_blur_circle=function(){this.initialize(),this.shape=new a.Shape,this.shape.graphics.beginFill().beginStroke("#FFFFFF").setStrokeStyle(8,1,1).moveTo(32,0).curveTo(32,13.2,22.6,22.6).curveTo(13.3,32,0,32).curveTo(-13.2,32,-22.7,22.6).curveTo(-32,13.2,-32,0).curveTo(-32,-13.3,-22.7,-22.7).curveTo(-13.2,-32,0,-32).curveTo(13.3,-32,22.6,-22.7).curveTo(32,-13.3,32,0).closePath(),this.addChild(this.shape)}).prototype=n=new a.Container,n.nominalBounds=new a.Rectangle(-36,-36,72,72),(r.kirakira2=function(){this.initialize(),this.shape=new a.Shape,this.shape.graphics.beginFill("#FFFFFF").beginStroke().moveTo(-4,9.5).curveTo(-7.8,0,-13.4,-.1).curveTo(-7.8,-.2,-4,-9.9).curveTo(-.1,-19.2,0,-32).curveTo(.1,-19.2,4,-9.9).curveTo(8,-.2,13.4,-.1).curveTo(8,0,4,9.5).curveTo(.1,19,0,32).curveTo(-.1,19,-4,9.5).closePath(),this.addChild(this.shape)}).prototype=n=new a.Container,n.nominalBounds=new a.Rectangle(-13.4,-32,26.8,64),(r.kirakira=function(){this.initialize(),this.shape=new a.Shape,this.shape.graphics.beginFill("#FFFFFF").beginStroke().moveTo(-9.6,9.3).curveTo(-18.9,0,-32,-.1).curveTo(-18.9,-.2,-9.6,-9.6).curveTo(-.2,-19,-.1,-32).curveTo(0,-19,9.4,-9.6).curveTo(18.9,-.2,32,-.1).curveTo(18.9,0,9.4,9.3).curveTo(0,18.8,-.1,32).curveTo(-.2,18.8,-9.6,9.3).closePath(),this.addChild(this.shape)}).prototype=n=new a.Container,n.nominalBounds=new a.Rectangle(-32,-32,64,64),(r.heart=function(){this.initialize(),this.shape=new a.Shape,this.shape.graphics.beginFill("#FFFFFF").beginStroke().moveTo(-20.2,10).lineTo(-24.8,3.5).curveTo(-27,.1,-28.5,-3.1).curveTo(-30.1,-6.4,-31.1,-9.5).curveTo(-32,-13,-32,-16).curveTo(-32,-19.7,-30.4,-22.7).curveTo(-29.1,-25.4,-26.6,-27.4).curveTo(-24,-29.1,-21,-30.1).curveTo(-18.1,-31.1,-15,-31.1).curveTo(-11.7,-31.1,-8.8,-29.9).curveTo(-6.4,-29,-4.5,-27.4).curveTo(-3,-25.9,-1.7,-23.9).lineTo(0,-20.8).lineTo(1.7,-23.9).curveTo(3,-25.9,4.5,-27.4).curveTo(6.6,-29.1,8.8,-29.9).curveTo(11.7,-31.1,15.2,-31.1).curveTo(18.4,-31.1,21.3,-30.1).curveTo(24.2,-29.1,26.7,-27.2).curveTo(29.1,-25.3,30.5,-22.6).curveTo(32,-19.7,32,-16.1).curveTo(32,-13.3,31,-9.7).curveTo(30.2,-6.5,28.5,-3.2).curveTo(27.1,0,24.9,3.3).lineTo(20.3,9.7).curveTo(13.4,17.7,9.7,21.6).lineTo(0,31).curveTo(-13.6,18.3,-20.2,10).closePath(),this.addChild(this.shape)}).prototype=n=new a.Container,n.nominalBounds=new a.Rectangle(-32,-31,64,62.1),(r.flower=function(){this.initialize(),this.shape=new a.Shape,this.shape.graphics.beginFill("#FFFFFF").beginStroke().moveTo(4,27.3).curveTo(.5,23.7,.5,18.9).lineTo(.5,15.2).lineTo(-.5,15.2).lineTo(-.7,18.9).curveTo(-.9,24,-4.1,27.6).curveTo(-7.4,31.1,-12.1,31.1).curveTo(-17,31.1,-20.8,27.5).curveTo(-24.7,23.7,-24.7,19.1).curveTo(-24.7,15.3,-22.2,12.1).curveTo(-19.7,8.8,-16.1,7.7).lineTo(-12.5,6.4).lineTo(-12.7,5.8).lineTo(-13,5.4).lineTo(-16.5,6.6).lineTo(-20.2,7.1).curveTo(-25.3,7.1,-28.7,4).curveTo(-32,.7,-32,-4.1).curveTo(-32,-9.4,-28.7,-13).curveTo(-25.5,-16.8,-20.6,-16.8).curveTo(-17.8,-16.8,-15,-15.4).curveTo(-12.2,-14,-10.5,-11.6).lineTo(-8.4,-8.7).lineTo(-8,-8.8).lineTo(-7.4,-9.3).lineTo(-9.6,-12.2).curveTo(-10.7,-14,-11.3,-15.8).curveTo(-11.9,-17.9,-12,-19.9).curveTo(-12,-24.7,-8.5,-28).curveTo(-5.3,-31.1,-.1,-31.1).curveTo(5.2,-31.1,8.5,-28).curveTo(11.7,-24.7,11.8,-19.9).curveTo(11.7,-17.7,11.2,-15.7).curveTo(10.7,-13.8,9.5,-12.2).lineTo(7.4,-9.3).lineTo(7.8,-9).lineTo(8.2,-8.7).lineTo(10.5,-11.6).curveTo(12.2,-14,14.8,-15.4).curveTo(17.6,-16.8,20.4,-16.8).curveTo(25.3,-16.8,28.5,-13).curveTo(32,-9.4,32,-4.1).curveTo(32,.8,28.5,4).curveTo(25.3,7.1,20,7.1).lineTo(16.4,6.6).lineTo(12.9,5.5).curveTo(12.8,5.6,12.8,5.6).curveTo(12.7,5.7,12.7,5.7).curveTo(12.7,5.8,12.7,5.8).curveTo(12.7,5.9,12.7,6).lineTo(12.5,6.4).lineTo(15.9,7.7).curveTo(19.7,9.1,22.1,12.2).curveTo(24.5,15.3,24.5,19.1).curveTo(24.5,23.7,20.8,27.5).curveTo(16.9,31.1,11.9,31.1).curveTo(7.4,31.1,4,27.3).closePath().moveTo(-7.7,-5.9).curveTo(-10.9,-2.7,-10.9,1.8).curveTo(-10.9,6.3,-7.7,9.4).curveTo(-4.6,12.5,-.1,12.5).curveTo(4.4,12.5,7.6,9.4).curveTo(10.6,6.3,10.6,1.8).curveTo(10.6,-2.7,7.6,-5.9).curveTo(4.4,-9,-.1,-9).curveTo(-4.6,-9,-7.7,-5.9).closePath(),this.addChild(this.shape)}).prototype=n=new a.Container,n.nominalBounds=new a.Rectangle(-32,-31,64,62.2),(r.circle=function(){this.initialize(),this.shape=new a.Shape,this.shape.graphics.beginFill("#FFFFFF").beginStroke().drawEllipse(-10.8,-10.8,21.7,21.7),this.shape.setTransform(0,0,2.949,2.949),this.addChild(this.shape)}).prototype=n=new a.Container,n.nominalBounds=new a.Rectangle(-32,-32,64,64),(r.blur_circle=function(){this.initialize(),this.shape=new a.Shape,this.shape.graphics.beginRadialGradientFill(["#FFFFFF","rgba(255,255,255,0)"],[0,1],0,0,0,0,0,11).beginStroke().drawEllipse(-10.8,-10.8,21.7,21.7),this.shape.setTransform(0,0,3,3),this.addChild(this.shape)}).prototype=n=new a.Container,n.nominalBounds=new a.Rectangle(-32.5,-32.5,65.1,65.1),(r.assetshapes=function(){this.initialize(),this.instance=new r.triangle,this.instance.setTransform(323.6,39.6),this.instance_1=new r.square,this.instance_1.setTransform(518,151.5),this.instance_2=new r.kirakira2,this.instance_2.setTransform(420.8,32.6),this.instance_3=new r.kirakira,this.instance_3.setTransform(32,151.5),this.instance_4=new r.flower,this.instance_4.setTransform(396.5,151.5),this.instance_5=new r.star_10,this.instance_5.setTransform(518,32.6),this.instance_6=new r.star,this.instance_6.setTransform(275,151.5),this.instance_7=new r.circle,this.instance_7.setTransform(226.4,32.6),this.instance_8=new r.reverse_blur_circle,this.instance_8.setTransform(153.5,151.5),this.instance_9=new r.blur_circle,this.instance_9.setTransform(129.2,32.6),this.instance_10=new r.heart,this.instance_10.setTransform(32,32.6),this.addChild(this.instance_10,this.instance_9,this.instance_8,this.instance_7,this.instance_6,this.instance_5,this.instance_4,this.instance_3,this.instance_2,this.instance_1,this.instance)}).prototype=n=new a.Container,n.nominalBounds=new a.Rectangle(275,200,554,187.5);var l,u=function(){function t(){}return t.prototype.generateShape=function(t){return new(0,s[t])},t}(),p=function(){return function(){this.hue=0,this.hueVariance=0,this.saturation=0,this.saturationVariance=0,this.luminance=0,this.luminanceVariance=0}}();!function(t){t[t.Normal=0]="Normal",t[t.Random=1]="Random"}(l||(l={}));var d=function(){function t(t){void 0===t&&(t=null),this.bgColor="",this.width=0,this.height=0,this.emitFrequency=0,this.startX=0,this.startXVariance=0,this.startY=0,this.startYVariance=0,this.initialDirection=0,this.initialDirectionVariance=0,this.initialSpeed=0,this.initialSpeedVariance=0,this.friction=0,this.accelerationSpeed=0,this.accelerationDirection=0,this.startScale=0,this.startScaleVariance=0,this.finishScale=0,this.finishScaleVariance=0,this.lifeSpan=0,this.lifeSpanVariance=0,this.startAlpha=0,this.startAlphaVariance=0,this.finishAlpha=0,this.finishAlphaVariance=0,this.shapeIdList=[""],this.startColor=new p,this.blendMode=!0,this.alphaCurveType=l.Normal,t&&this.importFromJson(t)}return t.prototype.importFromJson=function(t){this.setData(t,function(t){return"width"==t||"height"==t||"bgColor"==t})},t.prototype.importData=function(t){this.setData(t,function(t){return"width"==t||"height"==t||"startX"==t||"startY"==t})},t.checkReflectEnable=function(){try{return!(!Reflect||!Reflect.has)}catch(t){return!1}},t.prototype.setData=function(e,i){if(t.ENABLE_REFLECT){for(var r in e)if(!i(r)&&1==Reflect.has(this,r)){var a=e[r];Reflect.set(this,r,a)}}else{for(var r in e)i(r)||this.hasOwnProperty(r)&&(this[r]=e[r])}},t.ENABLE_REFLECT=t.checkReflectEnable(),t}(),g=function(){return function(){this.assetList=["blur_circle","circle","flower","heart","kirakira","kirakira2","reverse_blur_circle","square","star","star_10","triangle"]}}(),f=function(){function t(){}return t.BLUR_CIRCLE="blur_circle",t.CIRCLE="circle",t.FLOWER="flower",t.HEART="heart",t.KIRAKIRA="kirakira",t.KIRAKIRA2="kirakira2",t.REVERSE_CIRCLE="reverse_blur_circle",t.SQUARE="square",t.STAR="star",t.STAR_10="star_10",t.TRIANGLE="triangle",t}(),_=function(){return function(){this.particleShape=new createjs.Container,this.startColor=new p}}(),T="1.0.0";var w=function(){function t(){this._frameCount=0,this._drawingData=new d,this._particlesPool=[],this._activeParticles=[],this.container=new createjs.Container,this.container.mouseChildren=!1,this.container.mouseEnabled=!1,this._playing=!0,this.shapeGenerator=new u}return t.prototype.isPlaying=function(){return this._playing},t.prototype.setData=function(t){this._drawingData=t},t.prototype.importFromJson=function(t){(function(t){var e=T.split(".");if(e.length<=2)return console.log("バージョン表記エラーが発生しました。"),!1;if(!t)return"0"==e[0]&&"1"==e[1];var i=t.split(".");return e[0]==i[0]&&e[1]==i[1]})(t.VERSION||"")||console.warn("読み込んだJSONファイルとParticleJSのバージョンが異なります。\nhttps://github.com/ics-creative/ParticleJS"),this._drawingData.importFromJson(t)},t.prototype.update=function(){this._playing&&(this.emit(),this.animate(),this.lifeCheck())},t.prototype.animate=function(){for(var t=createjs.Matrix2D.DEG_TO_RAD*this._drawingData.accelerationDirection,e=Math.cos(t)*this._drawingData.accelerationSpeed,i=Math.sin(t)*this._drawingData.accelerationSpeed,r=0;r<this._activeParticles.length;r++){var a=this._activeParticles[r];a.vx+=e,a.vy+=i,a.vx*=1-this._drawingData.friction,a.vy*=1-this._drawingData.friction,a.x+=a.vx,a.y+=a.vy,a.particleShape.x=a.x,a.particleShape.y=a.y;var n=a.currentLife/a.totalLife;switch(Number(a.alphaCurveType)){case l.Random:var s=Math.min(a.finishAlpha,a.startAlpha),o=Math.max(a.finishAlpha,a.startAlpha);a.particleShape.alpha=Math.random()*(o-s)+s;break;case l.Normal:default:var c=this.calcCurrentValue(a.startAlpha,a.finishAlpha,n);a.particleShape.alpha=c}var h=this.calcCurrentValue(a.startScale,a.finishScale,n);a.particleShape.scaleX=a.particleShape.scaleY=h,a.currentLife<0&&(a.isAlive=!1),a.currentLife--}},t.prototype.lifeCheck=function(){for(var t=0;t<this._activeParticles.length;t++)if(!this._activeParticles[t].isAlive){var e=this._activeParticles[t];this.container.removeChild(e.particleShape),this._activeParticles.splice(t,1),this._particlesPool.push(e),t--}},t.prototype.clear=function(){for(var t=0;t<this._activeParticles.length;t++){var e=this._activeParticles[t];e.isAlive=!1,this.container.removeChild(e.particleShape),this._activeParticles.splice(t,1),this._particlesPool.push(e),t--}},t.prototype.dispose=function(){for(var t=0;t<this._activeParticles.length;t++){var e=this._activeParticles[t];e.isAlive=!1,this.container.removeChild(e.particleShape)}this._activeParticles.splice(0,this._activeParticles.length),this._particlesPool.splice(0,this._particlesPool.length),this._activeParticles=null,this._particlesPool=null,this.container=null},t.prototype.emit=function(){for(var t=Math.round(createjs.Ticker.framerate),e=this._frameCount%t,i=this._drawingData.emitFrequency,r=0==i?0:Math.floor(i/t),a=0;a<r;a++)this.emitParticle();var n=i/t-r;0!=i&&e%Math.floor(1/n)==0&&this.emitParticle(),this._frameCount++,this._frameCount>=t&&(this._frameCount=0)},t.prototype.emitParticle=function(){var t=this.generateParticle();this.container.addChild(t.particleShape),this._activeParticles.push(t)},t.prototype.generateParticle=function(){var t=null;return t=this._particlesPool.length>=1?this._particlesPool.shift():new _,this.setParticleParameter(t),t},t.prototype.setParticleParameter=function(t){t.particleShape.removeAllChildren(),t.isAlive=!0,t.x=this.calcRandomValueWithVariance(this._drawingData.startX,this._drawingData.startXVariance,!1),t.y=this.calcRandomValueWithVariance(this._drawingData.startY,this._drawingData.startYVariance,!1),this.generateShape(t,this._drawingData.shapeIdList),t.totalLife=Math.max(1,this.calcRandomValueWithVariance(this._drawingData.lifeSpan,this._drawingData.lifeSpanVariance,!0)),t.currentLife=t.totalLife;var e=Math.max(0,this.calcRandomValueWithVariance(this._drawingData.initialSpeed,this._drawingData.initialSpeedVariance,!1)),i=createjs.Matrix2D.DEG_TO_RAD*this.calcRandomValueWithVariance(this._drawingData.initialDirection,this._drawingData.initialDirectionVariance,!1);t.vx=Math.cos(i)*e,t.vy=Math.sin(i)*e,t.startAlpha=this.calcRandomValueWithRange(0,1,this.calcRandomValueWithVariance(this._drawingData.startAlpha,this._drawingData.startAlphaVariance,!1)),t.finishAlpha=this.calcRandomValueWithRange(0,1,this.calcRandomValueWithVariance(this._drawingData.finishAlpha,this._drawingData.finishAlphaVariance,!1)),t.startScale=Math.max(0,this.calcRandomValueWithVariance(this._drawingData.startScale,this._drawingData.startScaleVariance,!1)),t.finishScale=Math.max(0,this.calcRandomValueWithVariance(this._drawingData.finishScale,this._drawingData.finishScaleVariance,!1)),t.particleShape.compositeOperation=1==this._drawingData.blendMode?"lighter":null,t.alphaCurveType=this._drawingData.alphaCurveType},t.prototype.generateShape=function(e,i){e.particleShape.removeAllChildren();var r=this._drawingData.startColor;e.startColor.hue=this.calcRandomValueWithVariance(r.hue,r.hueVariance,!1)%360,e.startColor.luminance=this.calcRandomValueWithVariance(r.luminance,r.luminanceVariance,!1),e.startColor.saturation=this.calcRandomValueWithVariance(r.saturation,r.saturationVariance,!1);var a=Number(e.startColor.hue),n=Number(e.startColor.saturation),s=Number(e.startColor.luminance),o="hsl("+a+", "+n+"%, "+s+"%)",c=Math.floor(Math.random()*this._drawingData.shapeIdList.length),h=0==this._drawingData.shapeIdList.length?"":this._drawingData.shapeIdList[c];e.colorCommand=null;var l=this.shapeGenerator.generateShape(h);e.particleShape.addChild(l);var u=l.getChildAt(0);if(null!=u){var p=u.graphics.instructions;if(p&&p.length>0)for(var d=0;d<p.length;d++){var g=p[d];if(g instanceof createjs.Graphics.Fill)if(g.style instanceof CanvasGradient){var f=g.style,_=t.HELPER_GRAPHICS.beginRadialGradientFill([o,"hsla("+a+", "+n+"%, "+s+"%, 0)"],f.props.ratios,f.props.x0,f.props.y0,f.props.r0,f.props.x1,f.props.y1,f.props.r1).command;p[d]=_}else g.style=o,e.colorCommand=g;else g instanceof createjs.Graphics.Stroke&&(g.style=o,e.colorCommand=g)}}},t.prototype.pause=function(){this._playing=!1},t.prototype.resume=function(){this._playing=!0},t.prototype.calcRandomValueWithRange=function(t,e,i){return Math.min(e,Math.max(t,i))},t.prototype.calcRandomValueWithVariance=function(t,e,i){var r=Number(t)+(Math.random()-.5)*e;return 1==i?Math.floor(r):r},t.prototype.calcCurrentValue=function(t,e,i){return Number(t)*i+Number(e)*(1-i)},Object.defineProperty(t.prototype,"emitFrequency",{get:function(){return this._drawingData.emitFrequency},set:function(t){this._drawingData.emitFrequency=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startX",{get:function(){return this._drawingData.startX},set:function(t){this._drawingData.startX=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startXVariance",{get:function(){return this._drawingData.startX},set:function(t){this._drawingData.startXVariance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startY",{get:function(){return this._drawingData.startY},set:function(t){this._drawingData.startY=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startYVariance",{get:function(){return this._drawingData.startYVariance},set:function(t){this._drawingData.startYVariance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initialDirection",{get:function(){return this._drawingData.initialDirection},set:function(t){this._drawingData.initialDirection=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initialDirectionVariance",{get:function(){return this._drawingData.initialDirectionVariance},set:function(t){this._drawingData.initialDirectionVariance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initialSpeed",{get:function(){return this._drawingData.initialSpeed},set:function(t){this._drawingData.initialSpeed=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initialSpeedVariance",{get:function(){return this._drawingData.initialSpeedVariance},set:function(t){this._drawingData.initialSpeedVariance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"friction",{get:function(){return this._drawingData.friction},set:function(t){this._drawingData.friction=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"accelerationSpeed",{get:function(){return this._drawingData.accelerationSpeed},set:function(t){this._drawingData.accelerationSpeed=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"accelerationDirection",{get:function(){return this._drawingData.accelerationDirection},set:function(t){this._drawingData.accelerationDirection=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startScale",{get:function(){return this._drawingData.startScale},set:function(t){this._drawingData.startScale=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startScaleVariance",{get:function(){return this._drawingData.startScaleVariance},set:function(t){this._drawingData.startScaleVariance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"finishScale",{get:function(){return this._drawingData.finishScale},set:function(t){this._drawingData.finishScale=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"finishScaleVariance",{get:function(){return this._drawingData.finishScaleVariance},set:function(t){this._drawingData.finishScaleVariance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lifeSpan",{get:function(){return this._drawingData.lifeSpan},set:function(t){this._drawingData.lifeSpan=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lifeSpanVariance",{get:function(){return this._drawingData.lifeSpanVariance},set:function(t){this._drawingData.lifeSpanVariance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAlpha",{get:function(){return this._drawingData.startAlpha},set:function(t){this._drawingData.startAlpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAlphaVariance",{get:function(){return this._drawingData.startAlphaVariance},set:function(t){this._drawingData.startAlphaVariance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"finishAlpha",{get:function(){return this._drawingData.finishAlpha},set:function(t){this._drawingData.finishAlpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"finishAlphaVariance",{get:function(){return this._drawingData.finishAlphaVariance},set:function(t){this._drawingData.finishAlphaVariance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shapeIdList",{get:function(){return this._drawingData.shapeIdList},set:function(t){this._drawingData.shapeIdList=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startColor",{get:function(){return this._drawingData.startColor},set:function(t){this._drawingData.startColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._drawingData.blendMode},set:function(t){this._drawingData.blendMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alphaCurveType",{get:function(){return this._drawingData.alphaCurveType},set:function(t){this._drawingData.alphaCurveType=t},enumerable:!0,configurable:!0}),t.HELPER_GRAPHICS=new createjs.Graphics,t}();i.d(e,"ParticleSystem",function(){return w}),i.d(e,"Particle",function(){return _}),i.d(e,"VERSION",function(){return T}),i.d(e,"DrawingData",function(){return d}),i.d(e,"ColorData",function(){return p}),i.d(e,"ShapeData",function(){return g}),i.d(e,"ShapeGenerator",function(){return u}),i.d(e,"AlphaCurveType",function(){return l}),i.d(e,"ShapeType",function(){return f}),i.d(e,"Assets",function(){return s})},function(t,e,i){t.exports=i(0)}])},t.exports=r()},function(t,e,i){"use strict";i.r(e);var r,a=function(){function t(){}return t.FONT_NAME="Bungee",t.STAGE_WIDTH=320,t.STAGE_HEIGHT=480,t}(),n=function(){return function(){}}(),s=function(){return function(){}}(),o=function(){function t(t){void 0===t&&(t=0),this._uint=t,this.setUint(t)}return t.prototype.setUint=function(t){this.setData(t)},t.prototype.getUint=function(){return this._uint},t.prototype.setCode=function(t){this.setData(parseInt(t.split("#")[1],16))},t.prototype.getCode=function(){return this._code},t.prototype.setRGBString=function(t){var e=t.split("(")[1].split(")")[0].split(",");this.setData(parseInt(e[0])<<16|parseInt(e[1])<<8|parseInt(e[2]))},t.prototype.getRGBString=function(){return this._rgbString},t.prototype.setR=function(t){this.setData(t<<16|this._g<<8|this._b)},t.prototype.getR=function(){return this._r},t.prototype.setG=function(t){this.setData(this._r<<16|t<<8|this._b)},t.prototype.getG=function(){return this._g},t.prototype.setB=function(t){this.setData(this._r<<16|this._g<<8|t)},t.prototype.getB=function(){return this._b},t.prototype.setRGB=function(t,e,i){this.setData(t<<16|e<<8|i)},t.prototype.getRGB=function(){return[this._r,this._g,this._b]},t.prototype.setData=function(e){this._uint=e,this._r=e>>16|0,this._g=(65280&e)>>8|0,this._b=255&e|0;var i=e.toString(16).toUpperCase();i=t.zero[i.length]+i,this._code="#"+i,this._rgbString="rgb("+this._r+","+this._g+","+this._b+")"},t.RGBtoCMYK=function(e){var i=new t(e),r=1-i.getR()/255,a=1-i.getG()/255,n=1-i.getB()/255,s=r>a?a>n?n:a:r>n?n:r,o=1-s;return[(r-s)/o,(a-s)/o,(n-s)/o,s]},t.zero=["なし","00000","0000","000","00","0",""],t}(),c=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.addText=function(t,e,i,r,a,n,s,o){void 0===s&&(s="center"),void 0===o&&(o="middle");var c=new createjs.Text;return c.font=e,c.color=i,t.addChild(c),c.x=r,c.y=a,c.text=n,c.textAlign=s,c.textBaseline=o,c},e.getRectShape=function(t,e,i,r){var a=new createjs.Shape;return a.graphics.beginFill(i),a.graphics.drawRect(0,0,t,e),a.graphics.endFill(),a.alpha=r,a},e.getRoundRectShape=function(t,e,i,r,a){var n=new createjs.Shape;return n.graphics.beginFill(r),n.graphics.drawRoundRect(0,0,t,e,i),n.graphics.endFill(),n.alpha=a,n},e}(createjs.Container),l=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),u=function(t){function e(e){var i=t.call(this)||this;return i.showTime=300,i.hideTime=300,i.sceneId=e,i}return l(e,t),e.prototype.addToStage=function(t){t.addChild(this)},e.prototype.init=function(){},e.prototype.show=function(){this.alpha=0,createjs.Tween.get(this).to({alpha:1},this.showTime,createjs.Ease.getPowOut(2)),this.visible=!0},e.prototype.hide=function(){this.alpha=1,createjs.Tween.get(this).to({alpha:0},this.showTime,createjs.Ease.getPowOut(2)).set({visible:!1}),this.visible=!0},e.prototype.dispose=function(){},e}(createjs.Container),p=i(0),d=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),g=function(t){function e(){var e=t.call(this)||this,i=new p.ParticleSystem;return e.addChild(i.container),e.particleSystem=i,i.importFromJson({bgColor:"#00000",width:0,height:0,emitFrequency:60,startX:0,startXVariance:0,startY:0,startYVariance:0,initialDirection:87,initialDirectionVariance:360,initialSpeed:3,initialSpeedVariance:5.6,friction:.0315,accelerationSpeed:0,accelerationDirection:0,startScale:.5,startScaleVariance:.52,finishScale:0,finishScaleVariance:0,lifeSpan:30,lifeSpanVariance:0,startAlpha:1,startAlphaVariance:0,finishAlpha:1,finishAlphaVariance:0,shapeIdList:["circle"],startColor:{hue:17,hueVariance:32,saturation:100,saturationVariance:"45",luminance:"56",luminanceVariance:"19"},blendMode:!0,alphaCurveType:"0",VERSION:"1.0.0"}),e.color=new o,e.on("tick",e.onTick,e),e}return d(e,t),e.prototype.onTick=function(){this.particleSystem.update()},e.prototype.setData=function(t,e,i,r){this.color.setUint(t);var a=this.color.getRGB(),n=f(a[0],a[1],a[2]),s=new p.ColorData;s.hue=360*n[0],s.saturation=100*n[1],s.luminance=100*n[2],s.saturationVariance=45,s.luminanceVariance=19,s.hueVariance=21,this.particleSystem.startColor=s,this.particleSystem.startX=e,this.particleSystem.startY=i,this.particleSystem.initialSpeed=r/20},e.prototype.setOnlyColor=function(t,e,i){this.color.setUint(t);var r=this.color.getRGB(),a=f(r[0],r[1],r[2]),n=new p.ColorData;n.hue=360*a[0],n.saturation=100*a[1],n.luminance=100*a[2],this.particleSystem.startColor=n,this.particleSystem.initialSpeed=e/10,this.particleSystem.startScale=i/100},e}(createjs.Container);function f(t,e,i){t/=255,e/=255,i/=255;var r,a,n=Math.max(t,e,i),s=Math.min(t,e,i),o=(n+s)/2;if(n==s)r=a=0;else{var c=n-s;switch(a=o>.5?c/(2-n-s):c/(n+s),n){case t:r=(e-i)/c+(e<i?6:0);break;case e:r=(i-t)/c+2;break;case i:r=(t-e)/c+4}r/=6}return[r,a,o]}var _=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),T=function(t){function e(){var e=t.call(this)||this;e.shape=new createjs.Shape,e.addChild(e.shape),e.color=new o;var i=new createjs.Shape;return e.addChild(i),i.graphics.beginStroke("#666666"),i.graphics.drawCircle(0,0,50),i.graphics.endFill(),e}return _(e,t),e.prototype.drawRect=function(t,e){this.color.setUint(t),this.shape.graphics.clear(),this.shape.graphics.beginFill(this.color.getRGBString()),this.shape.graphics.drawCircle(0,0,e),this.shape.graphics.endFill()},e}(createjs.Container),w=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),v=function(t){function e(e,i,r){var n=t.call(this)||this;n.cursor="pointer",n.regX=e/2,n.regY=i/2;var s=h.getRoundRectShape(e,i,5,"#FFFFFF",1);return n.addChild(s),s.on("mousedown",function(t){createjs.Tween.get(s,{override:!0}).to({alpha:.5},250,createjs.Ease.cubicOut)}),s.on("mouseup",function(){createjs.Tween.get(s,{override:!0}).to({alpha:1},250,createjs.Ease.cubicOut)}),n._btnShape=s,h.addText(n,"24px "+a.FONT_NAME,"#000000",Math.round(e/2),Math.round(i/2),r,"center","middle"),n}return w(e,t),e.prototype.dispose=function(){this._btnShape.removeAllEventListeners("mousedown"),this._btnShape.removeAllEventListeners("mouseup"),this.removeAllChildren(),this._btnShape=null},e}(createjs.Container),y=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),S=function(t){function e(){var e=t.call(this)||this;return e.shape=new createjs.Shape,e.addChild(e.shape),e.color=new o,e}return y(e,t),e.prototype.drawReticle=function(t,e,i,r,a){this.color.setUint(t);var n=this.shape.graphics,s=this.color.getRGBString();n.clear(),this.drawStroke(n,s,e),this.drawStroke(n,s,i),this.drawStroke(n,s,r),this.drawStroke(n,s,a);for(var o=[],c=[],h=0;h<3;h++){var l=-Math.PI/2+h*Math.PI*2/3;o[h]=Math.cos(l),c[h]=Math.sin(l)}for(var u=(a-e+3)/6|0,p=0;p<u;p++)for(h=0;h<3;h++){var d=6*o[h]*p,g=6*c[h]*p;n.moveTo(e*o[h]+d,e*c[h]+g),n.lineTo(e*o[h]+3*o[h]+d,e*c[h]+3*c[h]+g)}},e.prototype.drawStroke=function(t,e,i){t.beginStroke(e),t.drawCircle(0,0,i),t.endFill()},e}(createjs.Container),b=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),m=function(t){function e(){var e=t.call(this)||this;e.r=0,e.g=0,e.b=0,e._color=new o,e._cover=h.getRectShape(2*a.STAGE_WIDTH,2*a.STAGE_HEIGHT,"#000000",.8),e._cover.x=-.5*a.STAGE_WIDTH,e._cover.y=-.5*a.STAGE_HEIGHT,e.addChild(e._cover);var i=new S;return e.addChild(i),i.x=160,i.y=216,i.drawReticle(6710886,37,37,65,65),e.reticle=i,e._textResult=h.addText(e,"18px "+a.FONT_NAME,"#FFFFFF",a.STAGE_WIDTH/2,44,"Your Color #000000"),e._textTarget=h.addText(e,"18px "+a.FONT_NAME,"#FFFFFF",a.STAGE_WIDTH/2,75,"Target Color #000000"),e._textTime=h.addText(e,"20px "+a.FONT_NAME,"#FFFFFF",a.STAGE_WIDTH/2,207,"Time\n10.0"),e._textTime.textAlign="center",e._textR=h.addText(e,"40px "+a.FONT_NAME,"#FF0000",(a.STAGE_WIDTH>>1)-40,244,"100%"),e._textR.textAlign="right",e._textG=h.addText(e,"40px "+a.FONT_NAME,"#00FF00",a.STAGE_WIDTH>>1,146,"100%","center"),e._textB=h.addText(e,"40px "+a.FONT_NAME,"#0000FF",40+(a.STAGE_WIDTH>>1),244,"100%","left"),e.containerScore=new createjs.Container,e.addChild(e.containerScore),e._textScore=h.addText(e.containerScore,"32px "+a.FONT_NAME,"#FFFFFF",48,310,"Score: 0","center"),e.containerScore.x=a.STAGE_WIDTH>>1,e.containerScore.y=e._textScore.y,e._textScore.x=0,e._textScore.y=-20,e._btnNext=new v(187,35,"Next Round"),e._btnNext.x=a.STAGE_WIDTH/2,e._btnNext.y=401,e._btnNext.addEventListener("click",function(){e.dispatchEvent("next",e)}),e.addChild(e._btnNext),e._isPlaying=!1,e}return b(e,t),e.prototype.setData=function(t){var e=new o;e.setUint(t.result),this._textResult.color=e.getRGBString(),this._textResult.text="Your Color "+e.getCode(),e.setUint(t.target),this._textTarget.color=e.getRGBString(),this._textTarget.text="Target Color "+e.getCode(),this._textR.text=String(t.r)+"%",this._textG.text=String(t.g)+"%",this._textB.text=String(t.b)+"%",this._textTime.text="Time\n"+String(t.time.toFixed(1)),this._textScore.text="Score: "+String(t.total),this._textTarget.alpha=0,this._textResult.alpha=0,createjs.Tween.get(this._textTarget).to({alpha:1},300,createjs.Ease.getPowOut(2)),createjs.Tween.get(this._textResult).to({alpha:1},300,createjs.Ease.getPowOut(2)),this._textTime.alpha=0,createjs.Tween.get(this._textTime).wait(400).to({alpha:1},300,createjs.Ease.getPowOut(2)),this._textR.alpha=0,createjs.Tween.get(this._textR).wait(500).to({alpha:1},300,createjs.Ease.getPowOut(2)),this._textG.alpha=0,createjs.Tween.get(this._textG).wait(550).to({alpha:1},300,createjs.Ease.getPowOut(2)),this._textB.alpha=0,createjs.Tween.get(this._textB).wait(600).to({alpha:1},300,createjs.Ease.getPowOut(2)),this.r=0,this.g=0,this.b=0,createjs.Tween.get(this).wait(800).set({r:0,g:0,b:0}).to({r:t.r,g:t.g,b:t.b},400).call(this.onTick).set({_isPlaying:!1}),this.reticle.scaleX=0,this.reticle.scaleY=0,createjs.Tween.get(this.reticle).wait(800).to({scaleX:1,scaleY:1},400,createjs.Ease.getPowOut(2)),this.containerScore.scaleX=4,this.containerScore.scaleY=4,this.containerScore.alpha=0,createjs.Tween.get(this.containerScore).wait(1300).to({scaleX:1,scaleY:1},200,createjs.Ease.getBackOut(1)),createjs.Tween.get(this.containerScore).wait(1300).to({alpha:1},200,createjs.Ease.getPowOut(3)),this._btnNext.scaleX=0,this._btnNext.scaleY=0,createjs.Tween.get(this._btnNext).wait(1600).to({scaleX:1,scaleY:1},300,createjs.Ease.getPowOut(5)),this._isPlaying=!0},e.prototype.onTick=function(){this._isPlaying&&(this._textR.text=String(0|this.r)+"%",this._textG.text=String(0|this.g)+"%",this._textB.text=String(0|this.b)+"%")},e}(createjs.Container),F=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),x=function(t){function e(e,i,r,a,n){void 0===n&&(n=0);var s=t.call(this)||this;return s.colorName=e,s.dMax=r,s.dMin=a,s.innerSize=i,s.line=new createjs.Shape,s.addChild(s.line),s.shape=new createjs.Shape,s.addChild(s.shape),s.shape2=new createjs.Shape,s.addChild(s.shape2),s.baseColor=n,s.text=new createjs.Text,s.addChild(s.text),s.text.font="40px Arial",s.text.color=new o(n).getRGBString(),s.text.y=-150,s.color=new o,s.shape.compositeOperation="lighter",s.shape2.compositeOperation="lighter",s.shape.alpha=.2,s}return F(e,t),e.prototype.init=function(t,e,i){this.identifier=t,this.initX=e,this.initY=i,this.x=this.initX,this.y=this.initY,this.line.graphics.clear()},e.prototype.initDraw=function(t,e){this.line.graphics.clear(),this.text.text="",this.drawCircle(t,e)},e.prototype.drawCircle=function(t,e){this.color.setUint(t),this.shape.graphics.clear(),this.shape.graphics.beginFill(this.color.getRGBString()),this.shape.graphics.drawCircle(0,0,e),this.shape.graphics.endFill(),this.shape2.graphics.clear(),this.shape2.graphics.beginFill(this.color.getRGBString()),this.shape2.graphics.drawCircle(0,0,this.innerSize),this.shape2.graphics.endFill()},e.prototype.getDPercent=function(t,e){var i=t-this.initX,r=e-this.initY,a=(Math.sqrt(i*i+r*r)-this.dMin)/(this.dMax-this.dMin);return a=(a=a<0?0:a)>1?1:a,this.dPercent=a,this.dPercent},e.prototype.setText=function(t,e,i){this.text.x=t-this.initX,this.text.y=e-this.initY,this.text.text=this.colorName+":"+i},e.prototype.setData=function(t,e,i,r,a){this.color.setUint(t),this.shape.graphics.clear(),this.shape.graphics.beginFill(this.color.getRGBString()),this.shape.graphics.drawCircle(0,0,e),this.shape.graphics.endFill(),this.shape2.graphics.clear(),this.shape2.graphics.beginFill(this.color.getRGBString()),this.shape2.graphics.drawCircle(0,0,this.innerSize),this.shape2.graphics.endFill(),this.x=i,this.y=r;var n=this.line;n.graphics.clear(),n.graphics.beginStroke(new o(this.baseColor).getRGBString()),n.graphics.moveTo(this.initX-i,this.initY-r),n.graphics.lineTo(0,0),n.graphics.endStroke(),n.graphics.beginStroke(new o(this.baseColor).getRGBString()),n.graphics.drawCircle(0,0,50),n.graphics.endStroke()},e}(createjs.Container),C=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),D=function(t){function e(e){var i=t.call(this,e)||this;return i.TIME_LIMIT=10,i.ROUND_MAX=3,i}return C(e,t),e.prototype.init=function(){var t=this;this.stage.on("stagemousedown",function(e){t.canvas_touchStartHandler(e)}),this.stage.on("stagemousemove",function(e){t.canvas_touchMoveHandler(e)}),this.stage.on("stagemouseup",function(e){t.canvas_touchEndHandler(e)}),h.addText(this,"20px "+a.FONT_NAME,"#FFFFFF",85,47,"You"),h.addText(this,"20px "+a.FONT_NAME,"#FFFFFF",235,47,"Target"),this.textRound=h.addText(this,"20px "+a.FONT_NAME,"#FFFFFF",a.STAGE_WIDTH/2,14,"Round"),this.textTime=h.addText(this,"32px "+a.FONT_NAME,"#FFFFFF",a.STAGE_WIDTH>>1,40,String(this.TIME_LIMIT)),h.addText(this,"14px "+a.FONT_NAME,"#CCCCCC",a.STAGE_WIDTH>>1,450,"Drag with 3 Fingers");var e=new T;e.drawRect(16777215,45),this.addChild(e),e.x=237,e.y=127,this.targetRect=e,(e=new T).drawRect(16777215,45),this.addChild(e),e.x=87,e.y=127,this.currentRect=e,this.reticle=new S,this.addChild(this.reticle),this.reticle.visible=!1,this.centerPointX=a.STAGE_WIDTH>>1,this.centerPointY=172+(a.STAGE_HEIGHT-172>>1),this.particleRange=150,this.thetaDelay=2*Math.PI/3,this.usedCircles=[],this.currentParticleList=[],this.currentTouchList=[];for(var i=["r","g","b"],r=[16711680,65280,255],n=0;n<3;n++){var s=new x(i[n],10,105,25,r[n]);this.addChild(s),s.x=this.centerPointX,s.y=this.centerPointY,this.usedCircles[n]=s;var o=new g;this.addChild(o),this.currentParticleList[n]=o,this.currentTouchList[n]=null}var c=new x("",5,0,0);c.drawCircle(16777215,20),this.addChild(c),c.visible=!1,this.gp=c;var l=new g;this.addChild(l),this.gpParticle=l,this.containerTextStart=new createjs.Container,this.addChild(this.containerTextStart),this.containerTextStart.x=a.STAGE_WIDTH>>1,this.containerTextStart.y=a.STAGE_HEIGHT>>1,this.textStart=h.addText(this.containerTextStart,"50px "+a.FONT_NAME,"#FFFFFF",0,-20,"Start"),this.cover=new m,this.cover.alpha=0,this.addChild(this.cover),this.cover.on("next",function(){t.next()}),this.round=this.ROUND_MAX,this.scoreList=[],this.theta=0,this.start(),createjs.Ticker.on("tick",this.onTick,this)},e.prototype.onTick=function(){if(0==this.state||1==this.state){this.theta+=.01;for(var t=this.currentTouchList.length,e=0;e<t;e++){var i=this.usedCircles[e];if(null!=this.currentTouchList[e])i.x+=.4*((this.currentTouchList[e].stageX-0)/n.SCALE-i.x),i.y+=.4*(this.currentTouchList[e].stageY/n.SCALE-i.y);else{var r=this.theta+e*this.thetaDelay;i.x+=.01*(this.centerPointX+this.particleRange*Math.cos(r)-i.x),i.y+=.01*(this.centerPointY+this.particleRange*Math.sin(r)-i.y)}this.currentParticleList[e].setData(i.color.getUint(),i.x,i.y,25)}}2==this.state&&(this.timeLeft=this.TIME_LIMIT-((new Date).getTime()-this.startTime)/1e3,this.timeLeft<=0?(this.timeLeft=0,this.textTime.text="0.0",this.end()):this.textTime.text=String(this.timeLeft.toFixed(1)))},e.prototype.canvas_touchStartHandler=function(t){if(1==this.state){for(var e=this.currentTouchList.length,i=(t.stageX-0)/n.SCALE,r=t.stageY/n.SCALE,a=[],s=0;s<e;s++)if(null==this.currentTouchList[s]){var o=this.usedCircles[s],c=i-o.x,h=r-o.y;a.push(new R(s,c*c+h*h))}0!=a.length&&(a.sort(R.sorter),this.currentTouchList[a[0].i]=t);for(s=0;s<e;s++)if(null==this.currentTouchList[s])return;this.startHandle(t)}},e.prototype.startHandle=function(t){this.state=2,this.startTime=(new Date).getTime();for(var e,i,r=this.currentTouchList,a=this.currentTouchList.length,s=0,o=0,c=0;c<a;c++)s+=((e=r[c]).stageX-0)/n.SCALE,o+=e.stageY/n.SCALE;s/=a,o/=a,console.log(s,o),this.gp.init(0,s,o),this.gp.visible=!0,this.gpParticle.x=s,this.gpParticle.y=o,this.gpParticle.visible=!0;for(var h=0;h<a;h++)e=r[h],(i=this.usedCircles[h]).init(e.pointerID,s,o),i.drawCircle(0,20);this.canvas_touchMoveHandler(t),this.reticle.visible=!0,this.reticle.drawReticle(6710886,25,60,100,105),this.reticle.x=s,this.reticle.y=o,this.reticle.scaleX=5,this.reticle.scaleY=5,this.reticle.rotation=-180,createjs.Tween.get(this.reticle).to({scaleX:1,scaleY:1},300,createjs.Ease.backOut).wait(100).to({rotation:0},300,createjs.Ease.backOut)},e.prototype.canvas_touchMoveHandler=function(t){for(var e=this.currentTouchList.length,i=0;i<e;i++)if(this.currentTouchList[i]&&this.currentTouchList[i].pointerID==t.pointerID){this.currentTouchList[i]=t;break}if(2==this.state){for(var r,a,s=new o,c=this.usedCircles.length,h=0;h<c;h++){a=this.usedCircles[h],r=this.currentTouchList[h];var l=a.getDPercent((r.stageX-0)/n.SCALE,r.stageY/n.SCALE),u=255*l|0,p=void 0;switch(a.colorName){case"r":s.setR(u),p=u<<16;break;case"g":s.setG(u),p=u<<8;break;case"b":s.setB(u),p=u}a.setData(p,15+15*l,(r.stageX-0)/n.SCALE,r.stageY/n.SCALE,String(u)),this.currentParticleList[h].setData(a.baseColor,a.x,a.y,30+50*l)}this.currentRect.drawRect(s.getUint(),45);var d,g,f,_=this.targetRect.color,T=this.currentRect.color;f=(d=_.getR())>(f=255-d)?d:f,g=T.getR();var w=100*(1-Math.abs(g-d)/f)|0;w=w<0?0:w,f=(d=_.getG())>(f=255-d)?d:f,g=T.getG();var v=100*(1-Math.abs(g-d)/f)|0;v=v<0?0:v,f=(d=_.getB())>(f=255-d)?d:f,g=T.getB();var y=100*(1-Math.abs(g-d)/f)|0,S=(w+v+(y=y<0?0:y))/300;this.gp.drawCircle(s.getUint(),15+15*S),this.gpParticle.setOnlyColor(s.getUint(),10+30*S,20+30*S)}},e.prototype.canvas_touchEndHandler=function(t){for(var e=this.currentTouchList.length,i=0;i<e;i++)if(this.currentTouchList[i]&&this.currentTouchList[i].pointerID==t.pointerID){this.currentTouchList[i]=null;break}if(2==this.state){for(var r,a=!1,n=this.usedCircles.length,s=0;s<n;s++)if(r=this.usedCircles[s],t.pointerID==r.identifier){a=!0;break}a&&this.end()}},e.prototype.end=function(){this.state=3,this.check()},e.prototype.check=function(){var t,e,i,r,a,n,o=this.targetRect.color,c=this.currentRect.color;n=(t=o.getR())>(n=255-t)?t:n,e=c.getR(),i=(i=100*(1-Math.abs(e-t)/n)|0)<0?0:i,n=(t=o.getG())>(n=255-t)?t:n,e=c.getG(),r=(r=100*(1-Math.abs(e-t)/n)|0)<0?0:r,n=(t=o.getB())>(n=255-t)?t:n,e=c.getB();var h=(i+r+(a=(a=100*(1-Math.abs(e-t)/n)|0)<0?0:a))/3,l=h>>2,u=l*l*l*(100+this.timeLeft*this.timeLeft)/1e3,p=new s;p.time=this.timeLeft,p.r=0|i,p.g=0|r,p.b=0|a,p.average=0|h,p.total=Math.floor(u),p.target=o.getUint(),p.result=c.getUint(),this.scoreList[this.ROUND_MAX-this.round]=p,this.cover.setData(p),this.cover.visible=!0,this.cover.alpha=0,createjs.Tween.get(this.cover).to({alpha:1},300,createjs.Ease.getPowOut(2))},e.prototype.start=function(){this.gp.visible=!1,this.gpParticle.visible=!1;for(var t=this.usedCircles.length,e=0;e<t;e++)this.usedCircles[e].initDraw(this.usedCircles[e].baseColor,25);this.reticle.visible=!1,createjs.Tween.get(this.cover).to({alpha:0},300,createjs.Ease.getPowOut(2)).set({visible:!1});var i=20+235*Math.random(),r=20+235*Math.random(),a=20+235*Math.random();this.targetRect.drawRect(i<<16|r<<8|a|0,45),this.currentRect.drawRect(0,45),this.state=0,this.textTime.text="",this.textStart.text="Round "+(this.ROUND_MAX-this.round+1)+"\nStart!",this.textRound.text="Round "+(this.ROUND_MAX-this.round+1),this.containerTextStart.alpha=0,this.containerTextStart.scaleX=1,this.containerTextStart.scaleY=1,createjs.Tween.get(this.containerTextStart).wait(300).to({alpha:1},200).wait(1e3).to({alpha:0,scaleX:4,scaleY:4},300,createjs.Ease.getElasticInOut(2,1)),createjs.Tween.get(this).wait(1300).set({state:1})},e.prototype.next=function(){this.round--,this.round>0?this.start():this.dispatchEvent("result",this)},e.prototype.dispose=function(){this.stage.removeAllEventListeners("stagemousedown"),this.stage.removeAllEventListeners("stagemousemove"),this.stage.removeAllEventListeners("stagemouseup"),this.targetRect=null,this.currentRect=null,this.reticle=null,this.gp=null,this.gpParticle=null;for(var t=0;t<3;t++)this.usedCircles[t],this.currentParticleList[t];this.usedCircles=null,this.currentTouchList=null,this.currentParticleList=null,this.textTime=null,this.textStart=null,this.textRound=null,this.cover.removeAllEventListeners("next"),this.cover=null,this.scoreList=null,this.removeAllChildren()},e}(u),R=function(){function t(t,e){this.i=t,this.d=e}return t.sorter=function(t,e){return t.d<e.d?-1:t.d>e.d?1:0},t}(),P=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),A=function(t){function e(e){return t.call(this,e)||this}return P(e,t),e.prototype.init=function(){for(var t=this,e=this.manager.datas[0],i=h.addText(this,"36px "+a.FONT_NAME,"#FFFFFF",a.STAGE_WIDTH>>1,33,"Result"),r=0,n=e.length,s=[],o=0;o<n;o++){var c=e[o];"Round"+(o+1)+": "+c.total+"\n",r+=c.total,s[o]=h.addText(this,"24px "+a.FONT_NAME,"#FFFFFF",a.STAGE_WIDTH>>1,101+32*o,"Round"+(o+1)+" : "+c.total)}var l=h.addText(this,"36px "+a.FONT_NAME,"#FFFFFF",a.STAGE_WIDTH>>1,223,"Your Score");this._textTotal=h.addText(this,"56px "+a.FONT_NAME,"#FFFFFF",a.STAGE_WIDTH>>1,265,String(r)),this._btnTweet=new v(187,35,"Tweet"),this._btnTweet.x=a.STAGE_WIDTH>>1,this._btnTweet.y=362,this._btnTweet.on("click",function(){var t="https://twitter.com/?status=ColorCreate SCORE : "+r+" %23ColorCreate %23createjsjp";window.open(t)}),this._btnTweet.visible=!0,this._btnRetry=new v(187,35,"Retry"),this._btnRetry.x=a.STAGE_WIDTH>>1,this._btnRetry.y=412,this.addChild(this._btnRetry),this._btnRetry.on("click",function(){t.dispatchEvent("retry",t)}),i.alpha=0,createjs.Tween.get(i).wait(400).to({alpha:1},200,createjs.Ease.getPowOut(2));for(o=0;o<n;o++)s[o].alpha=0,createjs.Tween.get(s[o]).wait(800+350*o).to({alpha:1},200,createjs.Ease.getPowOut(2));l.alpha=0,createjs.Tween.get(l).wait(2200).to({alpha:1},300,createjs.Ease.getPowOut(2)),this._totalScore=0,this._textTotal.alpha=0,createjs.Tween.get(this._textTotal).wait(2800).to({alpha:1},300,createjs.Ease.getPowOut(2)),createjs.Tween.get(this).wait(2900).set({r:0,g:0,b:0}).to({_totalScore:r},400).call(this.onTick).set({isPlaying:!1}),this._btnTweet.scaleX=0,this._btnTweet.scaleY=0,createjs.Tween.get(this._btnTweet).wait(3600).to({scaleX:1,scaleY:1},300,createjs.Ease.getPowOut(5)),this._btnRetry.scaleX=0,this._btnRetry.scaleY=0,createjs.Tween.get(this._btnRetry).wait(3600).to({scaleX:1,scaleY:1},300,createjs.Ease.getPowOut(5)),this.isPlaying=!0},e.prototype.onTick=function(){this.isPlaying&&(this._textTotal.text=String(Math.floor(this._totalScore)))},e.prototype.dispose=function(){this._btnRetry.removeAllEventListeners("click"),this._btnRetry.dispose(),this._btnRetry=null,this._btnTweet.removeAllEventListeners("click"),this._btnTweet.dispose(),this._btnTweet=null,this.removeAllChildren()},e}(u),E=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),j=function(t){function e(e){return t.call(this,e)||this}return E(e,t),e.prototype.init=function(){var t=this;this._btnStart=new v(187,35,"Start"),this._btnStart.x=a.STAGE_WIDTH>>1,this._btnStart.y=362,this.addChild(this._btnStart),this._btnStart.on("click",function(){t.dispatchEvent("start",t)}),h.addText(this,"38px "+a.FONT_NAME,"#FFFFFF",a.STAGE_WIDTH>>1,161,"Color Create"),h.addText(this,"18px "+a.FONT_NAME,"#CCCCCC",a.STAGE_WIDTH>>1,217,"Drag with 3 Fingers"),h.addText(this,"16px "+a.FONT_NAME,"#CCCCCC",a.STAGE_WIDTH>>1,450,"powered by ICS")},e.prototype.dispose=function(){this._btnStart.removeAllEventListeners("click"),this._btnStart.dispose(),this._btnStart=null,this.removeAllChildren()},e}(u),O=function(){function t(){this.viewList=[]}return t.prototype.addView=function(t){this.viewList.push(t),t.manager=this},t.prototype.gotoView=function(t,e){var i;this.datas=e;for(var r=this.viewList.length,a=0;a<r;a++)if(this.viewList[a].sceneId==t){i=this.viewList[a];break}if(null!=i){var n=createjs.Tween.get(this);null!=this.currentView&&n.call(this.currentView.hide,null,this.currentView).wait(this.currentView.hideTime).call(this.currentView.dispose,null,this.currentView),this.currentView=i,n.call(this.currentView.init,null,this.currentView).call(this.currentView.show,null,this.currentView).wait(this.currentView.showTime)}},t}();i.d(e,"Main",function(){return V}),window.addEventListener("DOMContentLoaded",function(){var t=new createjs.FontLoader({src:" https://fonts.googleapis.com/css?family=Bungee",type:"fontcss"},!0);t.on("complete",function(){new V}),t.load()});var V=function(){function t(){var t=this;this.canvas=document.getElementById("my-canvas"),this.stage=new createjs.Stage(this.canvas),window.addEventListener("resize",function(){t.resize()}),this.resize(),createjs.Ticker.framerate=60,createjs.Ticker.timingMode=createjs.Ticker.RAF,createjs.Ticker.on("tick",this.tick,this),this.stage.enableMouseOver(60),createjs.Touch.isSupported()&&createjs.Touch.enable(this.stage),this.manager=new O;var e=new j("title");e.addToStage(this.stage),this.manager.addView(e),e.on("start",function(){t.manager.gotoView("game")});var i=new D("game");i.addToStage(this.stage),this.manager.addView(i),i.on("result",function(e){t.manager.gotoView("result",[e.target.scoreList])});var r=new A("result");r.addToStage(this.stage),this.manager.addView(r),r.on("retry",function(){t.manager.gotoView("game")}),this.manager.gotoView("title"),this._textFps=new createjs.Text("","","white"),this.stage.addChild(this._textFps)}return t.prototype.tick=function(){this.stage.update()},t.prototype.resize=function(){this.canvas.width=innerWidth*devicePixelRatio,this.canvas.height=innerHeight*devicePixelRatio,this.canvas.style.width=innerWidth+"px",this.canvas.style.height=innerHeight+"px";var t=this.canvas.width/a.STAGE_WIDTH,e=this.canvas.height/a.STAGE_HEIGHT,i=Math.min(t,e);this.stage.scaleX=i,this.stage.scaleY=i,n.SCALE=i;var r=(this.canvas.width-a.STAGE_WIDTH*i)/2;this.canvas.height,a.STAGE_HEIGHT;this.stage.x=r},t}()}]);
//# sourceMappingURL=main.js.map